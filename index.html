<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Connect Wallet</title>
  <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
  <script src="https://unpkg.com/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
  <script src="https://unpkg.com/evm-chains/lib/index.min.js"></script>
  <script src="https://unpkg.com/web3modal@1.9.12/dist/index.js"></script>
  <style>
    body { background:#000; color:#0f0; font-family:monospace; text-align:center; padding:20px;}
    button { background:#111; color:#0f0; border:1px solid #0f0; padding:10px 20px; margin:10px; cursor:pointer; border-radius:8px;}
    #walletInfo { margin-top:20px; color:#fff; }
  </style>
</head>
<body>
  <h2>MAITRIX Connect Wallet</h2>
  <button id="connectBtn">ðŸ”— Connect Wallet</button>
  <div id="walletInfo"></div>

  <script>
    let web3Modal;
    let provider;
    let selectedAccount;

    async function init() {
      const providerOptions = {
        walletconnect: {
          package: window.WalletConnectProvider.default,
          options: {
            infuraId: "b83eac64f87cfacdeb60ef81ba5c6a1d" // ganti dengan Project ID sendiri
          }
        }
      };

      web3Modal = new window.Web3Modal.default({
        cacheProvider: false,
        providerOptions,
        theme: "dark"
      });
    }

    async function connectWallet() {
      try {
        provider = await web3Modal.connect();
        const web3 = new Web3(provider);
        const accounts = await web3.eth.getAccounts();
        selectedAccount = accounts[0];
        document.getElementById("walletInfo").innerText = "âœ… Connected: " + selectedAccount;
      } catch(e) {
        console.error("Could not connect to wallet", e);
      }
    }

    document.getElementById("connectBtn").addEventListener("click", connectWallet);
    window.addEventListener('load', init);
  </script>
</body>
</html>
